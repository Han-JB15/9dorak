<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.firstzone.register">

	<select id="selectAll" resultType="memvo">
		select * from mem
	</select>

	<select id="idCheck" parameterType="String" resultType="int">
		SELECT
		COUNT(*) FROM mem WHERE mem_id = #{mem_id}
	</select>


	<select id="codeCheck" parameterType="String" resultType="int">
		SELECT
		COUNT(*) FROM mem WHERE mem_code = #{mem_code}
	</select>
	<insert id="insertMember" parameterType="memvo">
		<selectKey keyProperty="mem_code" resultType="String"
			order="BEFORE">
			SELECT 'ABISE' || code_seq.nextval AS mem_code FROM dual
		</selectKey>
		INSERT INTO mem (
		mem_id, mem_name, mem_gender, mem_bd, mem_email,
		mem_phone, mem_pw, mem_code, mem_addr
		) VALUES (
		#{mem_id}, #{mem_name}, '남자' , #{mem_bd}, #{mem_email},
		#{mem_phone}, #{mem_pw}, #{mem_code}, #{mem_addr}
		)
	</insert>




	<!-- <update id="empUpdate" parameterType="empvo"> update employees set 
		first_name= #{first_name}, last_name=#{last_name}, email=#{email}, phone_number=#{phone_number}, 
		hire_date=#{hire_date}, job_id=#{job_id}, salary=#{salary}, commission_pct=#{commission_pct}, 
		manager_id=#{manager_id}, department_id=#{department_id} where employee_id=#{employee_id} 
		</update> <delete id="empDelete" parameterType="int"> delete from employees 
		where employee_id = #{employee_id} </delete> <insert id="empInsert" parameterType="empvo"> 
		insert into employees (first_name, last_name, email, phone_number, hire_date, 
		job_id, salary, commission_pct, pic, manager_id, department_id, employee_id) 
		values (#{first_name}, #{last_name}, #{email}, #{phone_number}, #{hire_date}, 
		#{job_id}, #{salary}, #{commission_pct},#{pic}, <if test="manager_id==0"> 
		null, </if> <if test="manager_id!=0"> #{manager_id}, </if> <if test="department_id==0"> 
		null, </if> <if test="department_id!=0"> #{department_id}, </if> #{employee_id}) 
		</insert> -->
</mapper>